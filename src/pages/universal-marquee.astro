<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Universal Marquee - Seamless Infinite Horizontal Marquee JavaScript Library</title>
    <meta
      name="description"
      content="Universal Marquee is a lightweight, accessible, pure vanilla JavaScript library for creating seamless infinite horizontal marquees with text, images, or custom content. Supports speed/duration modes, pause on hover, accessibility, and prefers-reduced-motion."
    />
    <meta
      name="keywords"
      content="javascript marquee, infinite marquee, horizontal scrolling marquee, accessible marquee, vanilla js marquee, seamless marquee, image marquee, text marquee"
    />
    <meta name="author" content="Ledi Hildawan" />
    <meta property="og:title" content="Universal Marquee - Seamless Infinite Horizontal Marquee" />
    <meta
      property="og:description"
      content="Lightweight vanilla JavaScript library for accessible, responsive infinite marquees with dynamic duplication, lazy loading, and full customization."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://universal-marquee.example.com" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Fredoka+One&family=Inter:wght@700;800;900&display=swap"
      rel="stylesheet"
    />

    <style is:global data-label="CORE_STYLES">
      :root {
        --um-gap-default: 2rem;
        --um-font-size: clamp(1.2rem, 3vw, 2rem);
        --um-gallery-item-width: 420px;
        --um-gallery-item-height: 280px;
        --um-gallery-border-radius: 24px;
      }
      .um-container {
        display: flex;
        overflow: hidden;
        user-select: none;
        width: 100%;
        min-width: 0;
        position: relative;
        transform: translate3d(0, 0, 0);
      }
      .um-sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border-width: 0;
      }
      .um-container .um-track {
        display: none;
      }
      .um-container.js-enabled .um-track {
        display: flex;
      }
      .um-track {
        align-items: center;
        flex-wrap: nowrap;
        gap: var(--um-gap);
        will-change: transform;
        backface-visibility: hidden;
        perspective: 1000px;
      }
      .um-track > div {
        display: flex;
        align-items: center;
        flex-wrap: nowrap;
        flex-shrink: 0;
        gap: var(--um-gap);
      }
      .um-track > div > * {
        flex-shrink: 0;
        white-space: nowrap;
        display: flex;
        align-items: center;
        font-size: var(--um-font-size);
        font-weight: 700;
        font-family:
          'Inter',
          'Segoe UI',
          system-ui,
          -apple-system,
          sans-serif;
      }
      .um-img-skeleton {
        position: relative;
        background-color: #e5e7eb;
        overflow: hidden;
        border-radius: var(--um-gallery-border-radius);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        transition:
          background-color 0.4s,
          box-shadow 0.5s;
        width: var(--um-gallery-item-width);
        height: var(--um-gallery-item-height);
        min-width: var(--um-gallery-item-width);
        min-height: var(--um-gallery-item-height);
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .um-img-skeleton img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        opacity: 0;
        transition: opacity 0.7s ease-out;
      }
      .um-img-skeleton img.loaded {
        opacity: 1;
      }
      .um-img-skeleton.loaded {
        background-color: transparent;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
      }
      .um-container.um-overflow-left::before,
      .um-container.um-overflow-right::after {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        width: 120px;
        pointer-events: none;
        z-index: 2;
      }
      .um-container.um-overflow-left::before {
        left: 0;
        background: linear-gradient(to right, var(--gradient-overlay-color, var(--bg)), transparent);
      }
      .um-container.um-overflow-right::after {
        right: 0;
        background: linear-gradient(to left, var(--gradient-overlay-color, var(--bg)), transparent);
      }
      @media (prefers-reduced-motion: reduce) {
        .um-container {
          overflow-x: auto !important;
          -webkit-overflow-scrolling: touch;
        }
        .um-track {
          width: max-content !important;
          transform: none !important;
          animation: none !important;
          justify-content: flex-start;
        }
      }
      @media (prefers-color-scheme: dark) {
        .um-img-skeleton {
          background-color: #374151;
        }
        .um-img-skeleton.loaded {
          box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }
      }
    </style>

    <style is:global data-label="ROOT_LAYOUT">
      :root {
        --color-bg-page: #fff;
        --color-text-primary: #111827;
        --color-gridline: #eef1ee;
        --layout-max-width: 1200px;
        --layout-gutter: 1.25rem;
        --layout-guide-width: 1px;
        --layout-guide-style: dashed;
        --layout-vertical-padding: 4rem;
        --layout-footer-height: 4rem;
      }
      @media (prefers-color-scheme: dark) {
        :root {
          --color-bg-page: #0f172a;
          --color-text-primary: #f3f4f6;
          --color-gridline: #1e293b;
        }
      }
      body {
        margin: 0;
        padding: 0;
        font-family:
          'Inter',
          'Segoe UI',
          system-ui,
          -apple-system,
          sans-serif;
        background-color: var(--color-bg-page);
        color: var(--color-text-primary);
        min-height: 100vh;
      }
      .root-layout {
        position: relative;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        z-index: 0;
      }
      .root-layout::before,
      .root-layout::after {
        content: '';
        border-top: var(--layout-guide-width) var(--layout-guide-style) var(--color-gridline);
        height: 0;
        position: absolute;
        left: 0;
        right: 0;
        z-index: 1;
        opacity: 1;
      }
      .root-layout::before {
        top: var(--layout-vertical-padding);
      }
      .root-layout::after {
        bottom: var(--layout-vertical-padding);
        border-bottom: var(--layout-guide-width) var(--layout-guide-style) var(--color-gridline);
        border-top: none;
      }
      .root-layout-container {
        width: calc(100% - (var(--layout-gutter) * 2));
        max-width: var(--layout-max-width);
        margin-inline: auto;
        display: flex;
        flex-direction: column;
        padding-top: var(--layout-vertical-padding);
        padding-bottom: var(--layout-vertical-padding);
        box-sizing: border-box;
      }
      .root-layout-header,
      .root-layout-footer {
        position: absolute;
        right: 0;
        left: 0;
        height: var(--layout-footer-height);
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .root-layout-header {
        top: 0;
      }
      .root-layout-footer {
        bottom: 0;
      }
      .root-layout-content {
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      @media (min-width: 64rem) {
        .root-layout-container {
          border-left: var(--layout-guide-width) var(--layout-guide-style) var(--color-gridline);
          border-right: var(--layout-guide-width) var(--layout-guide-style) var(--color-gridline);
        }
      }

      main {
        display: flex;
        flex-direction: column;
        gap: 5rem;
        margin-block: 4rem;
      }
      .intro {
        font-size: 1.25rem;
        line-height: 1.7;
        max-width: 800px;
        margin: 1.5rem auto 0;
        text-align: center;
      }
      .section {
        scroll-margin-top: 6rem;
      }
      .section > h2 {
        font-size: 2.5rem;
        font-weight: 900;
        text-align: center;
        margin-bottom: 2rem;
      }

      /* How to Use Section Styles */
      .how-to-use p {
        text-align: center;
        max-width: 800px;
        margin: 0 auto 3rem;
        font-size: 1.1rem;
        line-height: 1.6;
        opacity: 0.9;
      }
      .examples-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2.5rem;
        width: 100%;
        max-width: 1000px;
        margin: 0 auto;
      }
      .usage-example {
        background: var(--color-bg-page);
        border: 1px solid #e2e8f0;
        border-radius: 20px;
        padding: 2.5rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        overflow: hidden;
      }
      @media (prefers-color-scheme: dark) {
        .usage-example {
          border-color: #374151;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        .usage-example:hover {
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }
      }
      .usage-example h3 {
        font-size: 1.8rem;
        margin: 0 0 1rem;
        font-weight: 800;
      }
      .usage-example p {
        margin-bottom: 2rem;
        line-height: 1.7;
        opacity: 0.9;
      }
      /* Styling untuk Code Block */
      .usage-example pre {
        /* Default Light Mode */
        background-color: #f1f5f9; /* Slate-100 */
        color: #334155; /* Slate-700 (Dark text) */
        border: 1px solid #e2e8f0;

        padding: 1.25rem;
        border-radius: 12px;
        overflow-x: auto;
        font-size: 0.9rem;
        line-height: 1.5;
        margin-top: 1.5rem;
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
      }

      /* Override untuk Dark Mode */
      @media (prefers-color-scheme: dark) {
        .usage-example pre {
          background-color: #020617 !important; /* Background Gelap (Pakai !important jika bandel) */
          color: #e2e8f0 !important; /* Teks Terang */
          border-color: #1e293b;
        }
      }

      .usage-example code {
        font-family: inherit;
        color: inherit;
      }
    </style>

    <!-- SUPER FUN STYLE KHUSUS #marquee-demo-1 -->
    <style>
      #marquee-demo-1 {
        background: linear-gradient(90deg, #ff6ac1, #9b59b6, #3498db, #2ecc71, #f1c40f, #e67e22, #ff6ac1);
        background-size: 300% 300%;
        animation: rainbowShift 12s ease infinite;
        padding: 2.5rem 0;
        --um-gap: 5rem;
        transform: rotate(-3deg) skewX(-5deg);
        border-radius: 30px;
        box-shadow: 0 15px 40px rgba(255, 105, 180, 0.5);
        overflow: hidden;
        margin: 4rem auto;
        max-width: 95%;
        position: relative;
      }

      @keyframes rainbowShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      #marquee-demo-1:hover {
        animation-duration: 3s !important;
        animation: wiggle 0.8s ease-in-out infinite;
      }

      @keyframes wiggle {
        0%,
        100% {
          transform: rotate(-3deg) skewX(-5deg) scale(1);
        }
        25% {
          transform: rotate(-2deg) skewX(-3deg) scale(1.03);
        }
        75% {
          transform: rotate(-4deg) skewX(-7deg) scale(1.03);
        }
      }

      #marquee-demo-1 .um-item {
        font-family: 'Comic Neue', 'Fredoka One', cursive, sans-serif;
        font-weight: 700;
        font-size: clamp(2rem, 5vw, 3.5rem);
        letter-spacing: 2px;
        text-shadow:
          0 0 10px #fff,
          3px 3px 0 #000;
        padding: 1rem 2.5rem;
        border-radius: 60px;
        background: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(5px);
        box-shadow:
          0 0 20px rgba(255, 255, 255, 0.6),
          inset 0 0 20px rgba(255, 255, 255, 0.2);
        display: inline-flex;
        align-items: center;
        white-space: normal;
        text-align: center;
        line-height: 1.3;
        transition: transform 0.3s ease;
      }

      #marquee-demo-1 .um-item:nth-child(odd) {
        color: #ffff00;
        transform: scale(1.1);
      }
      #marquee-demo-1 .um-item:nth-child(even) {
        color: #00ffff;
        transform: scale(0.95);
      }
      #marquee-demo-1 .um-item:nth-child(3n) {
        color: #ff00ff;
        transform: scale(1.2);
      }
      #marquee-demo-1 .um-item:nth-child(4n) {
        color: #00ff00;
        transform: scale(1.05);
      }

      #marquee-demo-1 .um-item-separator {
        font-size: 4.5rem;
        margin: 0 1.5rem;
        animation: spinSlow 8s linear infinite;
      }

      #marquee-demo-1:hover .um-item-separator {
        animation: spinFast 1s linear infinite;
      }

      @keyframes spinSlow {
        to {
          transform: rotate(360deg);
        }
      }
      @keyframes spinFast {
        to {
          transform: rotate(360deg);
        }
      }

      #marquee-demo-1::before {
        content: 'âœ¨ ðŸŽ‰ âœ¨ ðŸŽˆ âœ¨ ðŸŽŠ âœ¨';
        position: absolute;
        top: 10%;
        left: 0;
        width: 100%;
        font-size: 3rem;
        text-align: center;
        opacity: 0.6;
        animation: floatUp 12s linear infinite;
        pointer-events: none;
        z-index: 1;
      }

      @keyframes floatUp {
        0% {
          transform: translateY(100px);
          opacity: 0;
        }
        20% {
          opacity: 0.6;
        }
        80% {
          opacity: 0.6;
        }
        100% {
          transform: translateY(-100px);
          opacity: 0;
        }
      }

      @media (prefers-color-scheme: dark) {
        #marquee-demo-1 {
          box-shadow: 0 15px 40px rgba(255, 20, 147, 0.7);
        }
        #marquee-demo-1 .um-item {
          background: rgba(0, 0, 0, 0.6);
          text-shadow:
            0 0 15px #fff,
            3px 3px 0 #000;
        }
      }
    </style>
    <style>
      /* --- DEMO 1: Modern Testimonials (Glassmorphism + Adaptive) --- */
      #demo-testimonials {
        --um-gap: 2rem;
        padding: 3rem 0;
        /* Default Light Mode Background */
        background:
          radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.1) 0%, transparent 70%),
          linear-gradient(to right, #f8fafc, #eff6ff);
        border-radius: 24px;
        border: 1px solid rgba(255, 255, 255, 0.5);
      }

      .testimonial-card {
        /* Light Mode Card */
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(12px);
        padding: 1.5rem;
        border-radius: 16px;
        width: 320px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(226, 232, 240, 0.8);
        display: flex;
        flex-direction: column;
        gap: 1rem;
        white-space: normal;
        color: #1e293b;
        transition:
          transform 0.3s ease,
          background-color 0.3s,
          border-color 0.3s;
      }

      .t-header {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }
      .t-avatar {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        background: linear-gradient(135deg, #6366f1, #a855f7);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1rem;
        box-shadow: 0 2px 10px rgba(99, 102, 241, 0.3);
      }
      .t-info h4 {
        margin: 0;
        font-size: 0.95rem;
        font-weight: 700;
        color: inherit;
      }
      .t-info span {
        font-size: 0.8rem;
        color: #64748b;
      }
      .t-stars {
        color: #fbbf24;
        font-size: 0.9rem;
      }
      .t-body {
        font-size: 0.95rem;
        line-height: 1.6;
        opacity: 0.9;
        font-style: italic;
      }

      /* Dark Mode Override for Testimonials */
      @media (prefers-color-scheme: dark) {
        #demo-testimonials {
          background:
            radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.15) 0%, transparent 70%),
            linear-gradient(to right, #0f172a, #1e293b);
          border-color: rgba(255, 255, 255, 0.1);
        }
        .testimonial-card {
          background: rgba(30, 41, 59, 0.7); /* Dark semi-transparent */
          border-color: rgba(255, 255, 255, 0.1);
          color: #f1f5f9;
        }
        .t-info span {
          color: #94a3b8;
        }
      }

      /* --- DEMO 2: Album Cover Flow --- */
      #demo-products {
        --um-gap: 1.5rem;
        padding: 2.5rem 0;
        /* Neutral dark bg for media looks good in both modes usually, but let's adapt */
        background: #f1f5f9;
        border-radius: 20px;
      }
      @media (prefers-color-scheme: dark) {
        #demo-products {
          background: #111827;
        }
      }

      .album-card {
        width: 180px;
        height: 180px;
        border-radius: 16px;
        overflow: hidden;
        position: relative;
        box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.15);
        border: 1px solid rgba(0, 0, 0, 0.05);
      }
      .album-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      .album-card:hover img {
        transform: scale(1.15);
      }

      .album-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, transparent 60%);
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 1rem;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .album-card:hover .album-overlay {
        opacity: 1;
      }
      .album-overlay span {
        color: white;
        font-weight: 700;
        font-size: 0.95rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      }
      .album-overlay small {
        color: #cbd5e1;
        font-size: 0.75rem;
      }

      /* --- DEMO 3: Tech Ticker --- */
      #demo-ticker {
        /* High contrast tech look */
        background: #0f172a;
        border-left: 4px solid #10b981;
        color: #f8fafc;
        padding: 1rem 0;
        font-family: 'JetBrains Mono', 'Menlo', monospace;
        font-size: 0.95rem;
        --um-gap: 4rem;
        border-radius: 8px;
      }
      /* In Light mode, maybe we want a "Bloomberg Terminal" white look? */
      @media (prefers-color-scheme: light) {
        #demo-ticker {
          background: #e2e8f0;
          color: #1e293b;
          border-left-color: #059669;
        }
      }

      .ticker-item {
        display: flex;
        align-items: center;
        gap: 0.6rem;
      }
      .ticker-sym {
        font-weight: 800;
      }
      .ticker-change {
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 700;
      }
      .t-up {
        color: #22c55e;
        background: rgba(34, 197, 94, 0.15);
      }
      .t-down {
        color: #ef4444;
        background: rgba(239, 68, 68, 0.15);
      }

      /* Dark mode adjustment for visibility */
      @media (prefers-color-scheme: dark) {
        .t-up {
          color: #4ade80;
          background: rgba(74, 222, 128, 0.1);
        }
        .t-down {
          color: #f87171;
          background: rgba(248, 113, 113, 0.1);
        }
      }
    </style>
  </head>

  <body>
    <div class="root-layout">
      <div class="root-layout-container">
        <header class="root-layout-header">
          <svg xmlns="http://www.w3.org/2000/svg" width="72" fill="none" viewBox="0 0 554 264" aria-hidden="true">
            <path
              fill="currentColor"
              d="m136.657 5.657-125.5 125.5 126.5 126.5-5.657 5.656L0 131.314l.158-.158L.001 131 131 0l5.657 5.657Zm51 0-125.5 125.5 126.5 126.5-5.657 5.656L51 131.314l.158-.158-.157-.156L182 0l5.657 5.657ZM502.656 131l-.157.156.158.158-132 131.999-5.657-5.656 126.5-126.5L366 5.657 371.657 0l130.999 131Zm51 0-.157.156.158.158-132 131.999-5.657-5.656 126.5-126.5L417 5.657 422.657 0l130.999 131Zm-97.695.327-5.657 5.657-86.271-86.27-.068.068v160.889l.165.165 80.51-80.508 5.657 5.656-82.101 82.1.001.001-4.066 4.065-4.166-4.167v.001l-51-51 5.657-5.656 10.343 10.343v-44.068l-22.534 22.533.002.002-.082.081.033.033-19.005 19.004.002.002-6.367 6.366-26.193-26.192.001-.002-21.826-21.827v44.068l10.343-10.343 5.657 5.656-50.211 50.211.002.002-4.957 4.956-6.371-6.371.001-.002-79.796-79.796 5.657-5.656 80.51 80.508.165-.165V50.782l-.068-.068-86.271 86.27L98 131.327l91.67-91.67 87.31 87.311 87.311-87.31 91.67 91.669Zm-257.965 72.344 22-22v-74.8l9 9v.004l28.191 28.19.001-.001 19.795 19.796 13.047-13.048-13.467-13.467-.001.003-78.566-78.566v144.889Zm85.025-71.945 8.54 8.54v.002l4.503 4.503h.001l.002.001 28.898-28.897v-.004l9-9v74.8l22 22V58.782l-72.944 72.944Z"
            ></path>
          </svg>
        </header>

        <div class="root-layout-content">
          <main>
            <h1 style="text-align: center; font-size: 3.5rem;">Universal Marquee</h1>

            <section>
              <h2 class="um-sr-only">Intro</h2>
              <p class="intro">
                Lightweight, accessible vanilla JS library for infinite horizontal marquees. Works with text, images, or
                custom content. Scrolls continuously left or right.
              </p>
            </section>

            <section class="section" aria-labelledby="features-heading">
              <h2 id="features-heading">Key Features</h2>
              <div
                id="marquee-demo-1"
                role="region"
                aria-label="List of Universal Marquee key features"
                aria-live="polite"
              >
              </div>
            </section>

            <!-- How to Use â€“ sekarang selaras dengan section lain -->
            <section class="section how-to-use" aria-labelledby="usage-heading">
              <h2 id="usage-heading">How to Use</h2>
              <p>
                Include the library script at the end of <code>&lt;body&gt;</code> (with <code>type="module"</code>),
                then initialize it using <code>new UniversalMarquee(selector, options)</code>.
              </p>
              <div class="examples-grid">
                <article class="usage-example">
                  <h3>1. Scrolling Testimonials</h3>
                  <p>Perfect for showcasing customer feedback to build trust without disrupting the main layout.</p>
                  <div id="demo-testimonials" role="region" aria-label="Scrolling testimonials demo" aria-live="polite">
                  </div>
                  <pre
                    style="background:#f1f5f9; padding:1rem; border-radius:8px; overflow:auto;"><code>&lt;div id=&quot;testimonials&quot; class=&quot;um-container um-testimonials&quot;&gt;&lt;&#47;div&gt;
&lt;script type=&quot;module&quot;&gt;
  new UniversalMarquee&#40;&#39;#testimonials&#39;&#44; &#123;
    items&#58; &#91;
      &#123; text&#58; &#39;Amazing product!&#39;&#44; author&#58; &#39;John Doe&#39; &#125;&#44;
      &#123; text&#58; &#39;Transformed my workflow.&#39;&#44; author&#58; &#39;Jane Smith&#39; &#125;
    &#93;&#44;
    renderItem&#58; &#40;item&#41; &#61;&gt; &#123;
      const div &#61; document&#46;createElement&#40;&#39;div&#39;&#41;&#59;
      div&#46;className &#61; &#39;testimonial-card&#39;&#59;
      div&#46;innerHTML &#61; &#96;&lt;p&gt;&quot;$&#123;item&#46;text&#125;&quot;&lt;&#47;p&gt;&#96;&#59;
      return div&#59;
    &#125;&#44;
    gap&#58; &#39;2.5rem&#39;&#44;
    speed&#58; 40
  &#125;&#41;;
&lt;&#47;script&gt;</code></pre>
                </article>
                <article class="usage-example">
                  <h3>2. Product Showcase</h3>
                  <p>Great for highlighting featured or new products on a homepage.</p>
                  <div id="demo-products" role="region" aria-label="Product showcase demo" aria-live="polite"></div>
                  <pre
                    style="background:#f1f5f9; padding:1rem; border-radius:8px; overflow:auto;"><code>&lt;div id=&quot;products&quot; class=&quot;um-container um-gallery&quot;&gt;&lt;&#47;div&gt;
&lt;script type=&quot;module&quot;&gt;
  new UniversalMarquee&#40;&#39;#products&#39;&#44; &#123;
    items&#58; &#91;
      &#123; src&#58; &#39;img1.jpg&#39;&#44; alt&#58; &#39;Sneakers&#39; &#125;&#44;
      &#123; src&#58; &#39;img2.jpg&#39;&#44; alt&#58; &#39;T-Shirt&#39; &#125;
    &#93;&#44;
    renderItem&#58; &#40;item&#41; &#61;&gt; &#123;
      const div &#61; document&#46;createElement&#40;&#39;div&#39;&#41;&#59;
      div&#46;className &#61; &#39;product-card um-img-skeleton&#39;&#59;
      div&#46;innerHTML &#61; &#96;&lt;img src=&quot;$&#123;item&#46;src&#125;&quot;&gt;&#96;&#59;
      return div&#59;
    &#125;&#44;
    speed&#58; 50
  &#125;&#41;;
&lt;&#47;script&gt;</code></pre>
                </article>
                <article class="usage-example">
                  <h3>3. News Ticker</h3>
                  <p>Ideal for displaying breaking news or alerts with a fast-moving ticker effect.</p>
                  <div id="demo-ticker" role="region" aria-label="News ticker demo" aria-live="polite"></div>
                  <pre
                    style="background:#f1f5f9; padding:1rem; border-radius:8px; overflow:auto;"><code>&lt;div id=&quot;ticker&quot; class=&quot;um-container&quot;&gt;&lt;&#47;div&gt;
&lt;script type=&quot;module&quot;&gt;
  new UniversalMarquee&#40;&#39;#ticker&#39;&#44; &#123;
    items&#58; &#91;
      &#39;New Feature&#58; AI Integration Now Live!&#39;&#44;
      &#39;Flash Sale&#58; 50% Off Select Items&#39;
    &#93;&#44;
    separator&#58; &#39; &bull; &#39;&#44;
    speed&#58; 80&#44;
    direction&#58; &#39;right&#39;
  &#125;&#41;;
&lt;&#47;script&gt;</code></pre>
                </article>
              </div>
            </section>
          </main>
        </div>
      </div>

      <footer class="root-layout-footer">
        <span>Â© Universal Marquee 2025 by Ledi Hildawan</span>
      </footer>
    </div>
  </body>

  <!-- Universal Marquee Library (tetap sama) -->
  <script type="module">
    /* (Class ContentBuilder, AnimationController, UniversalMarquee - sama persis seperti versi sebelumnya) */
    class ContentBuilder {
      constructor(options) {
        this._opts = options;
      }
      #buildSeparatorNode(separator) {
        const container = document.createElement('span');
        container.classList.add('um-item-separator');
        container.setAttribute('aria-hidden', 'true');
        if (typeof separator === 'string') {
          container.textContent = separator;
        } else if (separator instanceof Node) {
          container.appendChild(separator.cloneNode(true));
        }
        container.querySelectorAll('*').forEach((el) => {
          if (el.id) el.removeAttribute('id');
          el.setAttribute('tabindex', '-1');
        });
        return container;
      }
      buildCycleContent(forSR = false, addTrailingSeparator = true) {
        const frag = document.createDocumentFragment();
        const items = this._opts.items;
        if (!items?.length) return frag;
        for (let i = 0; i < items.length; i++) {
          const item = items[i];
          if (forSR) {
            const li = document.createElement('li');
            li.textContent = item.alt || item.text || item;
            frag.appendChild(li);
          } else {
            let node = this._opts.renderItem(item);
            if (!(node instanceof Element)) {
              const wrapper = document.createElement('span');
              wrapper.appendChild(node);
              node = wrapper;
            }
            const cloned = node.cloneNode(true);
            const img = cloned.querySelector('img');
            if (img) {
              const markLoaded = () => {
                img.classList.add('loaded');
                cloned.classList.add('loaded');
              };
              img.onload = markLoaded;
              img.onerror = markLoaded;
              if (img.complete && img.naturalWidth > 0) markLoaded();
            }
            if (cloned.id) cloned.removeAttribute('id');
            cloned.querySelectorAll('*').forEach((el) => {
              if (el.id) el.removeAttribute('id');
              el.setAttribute('tabindex', '-1');
            });
            frag.appendChild(cloned);
            if (i < items.length - 1 || addTrailingSeparator) {
              const sep = this.#buildSeparatorNode(this._opts.separator);
              if (sep) frag.appendChild(sep);
            }
          }
        }
        return frag;
      }
      buildCycleContainer(addTrailingSeparator = true) {
        const div = document.createElement('div');
        div.appendChild(this.buildCycleContent(false, addTrailingSeparator));
        return div;
      }
      buildSRList() {
        const mode = this._opts.screenReaderMode || 'ordered';
        const items = this._opts.items;
        if (!items?.length) {
          const div = document.createElement('div');
          div.className = 'um-sr-only';
          return div;
        }
        let container;
        if (mode === 'ordered') container = document.createElement('ol');
        else if (mode === 'unordered') container = document.createElement('ul');
        else container = document.createElement('div');
        container.className = 'um-sr-only';
        if (mode === 'plain') {
          items.forEach((item) => {
            const p = document.createElement('p');
            p.textContent = item.alt || item.text || item;
            container.appendChild(p);
          });
        } else {
          container.appendChild(this.buildCycleContent(true));
        }
        return container;
      }
      measureCycleMetrics(root) {
        if (!this._opts.items?.length) return { width: 0, gap: 0 };
        const temp = document.createElement('div');
        temp.className = 'um-track';
        temp.style.position = 'absolute';
        temp.style.visibility = 'hidden';
        let gapVal = this._opts.gap;
        if (typeof gapVal === 'number') gapVal = `${gapVal}px`;
        temp.style.setProperty('--um-gap', gapVal);
        const cycle = this.buildCycleContainer(true);
        temp.appendChild(cycle);
        root.appendChild(temp);
        const width = cycle.offsetWidth || 0;
        const parsedGap = parseFloat(getComputedStyle(temp).gap || '0');
        root.removeChild(temp);
        return { width, gap: parsedGap };
      }
    }

    class AnimationController {
      constructor(track, opts) {
        this._track = track;
        this._opts = opts;
      }
      start(cycleWidth, gap) {
        if (this._anim) this._anim.cancel();
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
        const distance = cycleWidth + gap;
        if (distance <= 0) return;
        let duration = this._opts.duration
          ? this._opts.duration * 1000
          : (distance / (this._opts.speed > 0 ? this._opts.speed : 50)) * 1000;
        const from = 'translate3d(0,0,0)';
        const to = `translate3d(-${distance}px,0,0)`;
        const keyframes =
          this._opts.direction === 'right'
            ? [{ transform: to }, { transform: from }]
            : [{ transform: from }, { transform: to }];
        this._anim = this._track.animate(keyframes, {
          duration,
          iterations: Infinity,
          easing: 'linear',
        });
      }
      pause() {
        if (this._anim?.playState === 'running') this._anim.pause();
      }
      play() {
        if (this._anim?.playState !== 'running') this._anim.play();
      }
      cancel() {
        if (this._anim) this._anim.cancel();
      }
    }

    class UniversalMarquee {
      constructor(selector, opts) {
        this._root = document.querySelector(selector);
        if (!this._root) return;
        this._opts = {
          speed: 50,
          duration: null,
          gap: '2rem',
          direction: 'left',
          items: [],
          separator: '',
          renderItem: (i) => document.createTextNode(typeof i === 'object' ? i.text || i.alt || i : i),
          pauseOnHover: true,
          ariaLabel: 'Marquee',
          screenReader: true,
          screenReaderMode: 'ordered',
          gradientOverlay: 'auto',
          gradientColor: null,
          ...opts,
        };
        this._root.classList.add('um-container', 'js-enabled');
        this._root.style.setProperty('--bg', getComputedStyle(this._root).backgroundColor);
        if (this._opts.screenReader) {
          this._root.setAttribute('role', 'region');
          this._root.setAttribute('aria-label', this._opts.ariaLabel);
        }
        this._builder = new ContentBuilder(this._opts);
        this.#setup();
        this.#initObservers();
        this.#initInteractivity();
      }
      #setup() {
        this._root.innerHTML = '';
        this._track = document.createElement('div');
        this._track.className = 'um-track';
        this._track.setAttribute('aria-hidden', 'true');
        if ('inert' in this._track) this._track.inert = true;
        if (this._opts.screenReader) {
          this._root.appendChild(this._builder.buildSRList());
        }
        this._root.appendChild(this._track);
        this.#reflow();
      }
      #reflow() {
        const metrics = this._builder.measureCycleMetrics(this._root);
        if (metrics.width === 0) return;
        if (this._anim) this._anim.cancel();
        const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        const baseCycles = Math.ceil(this._root.offsetWidth / (metrics.width + metrics.gap)) + 2;
        const cyclesCount = reducedMotion ? 1 : Math.max(3, baseCycles);
        this._track.innerHTML = '';
        const frag = document.createDocumentFragment();
        for (let i = 0; i < cyclesCount; i++) {
          frag.appendChild(this._builder.buildCycleContainer(!reducedMotion));
        }
        this._track.appendChild(frag);

        let shouldShowOverlay = false;
        if (this._opts.gradientOverlay === true) shouldShowOverlay = true;
        else if (this._opts.gradientOverlay === 'auto' && reducedMotion) {
          shouldShowOverlay = this._track.scrollWidth > this._root.offsetWidth;
        }

        if (shouldShowOverlay) {
          this._root.classList.add('um-overflow-left', 'um-overflow-right');
          let overlayColor = this._opts.gradientColor || getComputedStyle(this._root).backgroundColor;
          this._root.style.setProperty('--gradient-overlay-color', overlayColor);
        } else {
          this._root.classList.remove('um-overflow-left', 'um-overflow-right');
          this._root.style.removeProperty('--gradient-overlay-color');
        }

        if (!reducedMotion) {
          this._anim = new AnimationController(this._track, this._opts);
          this._anim.start(metrics.width, metrics.gap);
        }
      }
      #initInteractivity() {
        if (this._opts.pauseOnHover !== false) {
          this._root.addEventListener('mouseenter', () => this._anim?.pause());
          this._root.addEventListener('mouseleave', () => this._anim?.play());
          this._root.addEventListener('focusin', () => this._anim?.pause());
          this._root.addEventListener('focusout', () => this._anim?.play());
        }
      }
      #initObservers() {
        const resizeHandler = () => {
          clearTimeout(this._resizeTimer);
          this._resizeTimer = setTimeout(() => requestAnimationFrame(() => this.#reflow()), 200);
        };
        new ResizeObserver(resizeHandler).observe(this._root);

        if ('IntersectionObserver' in window) {
          this._observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (!this._anim) return;
                this._isInViewport = entry.isIntersecting;
                entry.isIntersecting && !document.hidden ? this._anim.play() : this._anim.pause();
              });
            },
            { rootMargin: '50px 0px' }
          );
          this._observer.observe(this._root);
        }

        document.addEventListener('visibilitychange', () => {
          if (!this._anim) return;
          document.hidden ? this._anim.pause() : this._isInViewport && this._anim.play();
        });

        const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
        mediaQuery.addEventListener('change', () => requestAnimationFrame(() => this.#reflow()));
      }
    }

    window.UniversalMarquee = UniversalMarquee;
  </script>

  <!-- Initialization -->
  <script type="module">
    const DEMO_1_ITEMS = [
      'Seamless infinite horizontal marquee with automatic dynamic cycle duplication for perfect looping',
      'Dual animation modes: speed-based scrolling or fixed duration-based cycle time',
      'Configurable scrolling direction â€“ left to right or right to left',
      'Customizable gap between items using CSS variable or JavaScript option',
      'Flexible separator support: plain text, SVG icons, DOM nodes, or images',
      'Custom renderItem function to display plain text, images, or complex custom DOM elements',
      'Built-in lazy loading for images with skeleton placeholder and smooth fade-in effect',
      'Dynamic gradient overlay masks on left and right sides',
      'Pause animation on hover, focus, and touch interactions',
      'Automatic play/pause based on viewport visibility',
      'Respects prefers-reduced-motion â€“ switches to static scroll',
      'Full accessibility support with screen-reader-only list and ARIA',
      'High performance using Web Animations API',
      'Pure vanilla JavaScript â€“ zero dependencies',
      'Fully responsive and mobile-friendly',
    ];

    const initApp = () => {
      new UniversalMarquee('#marquee-demo-1', {
        speed: 60,
        gap: '3rem',
        direction: 'left',
        items: DEMO_1_ITEMS,
        separator: 'ðŸŽŠ',
        renderItem: (text) => {
          const span = document.createElement('span');
          span.textContent = text;
          span.classList.add('um-item');
          return span;
        },
        pauseOnHover: true,
        ariaLabel: 'List of Universal Marquee key features',
        screenReader: true,
        screenReaderMode: 'plain',
        gradientOverlay: false,
      });

      // Demo 2: Testimonials (User Reviews Style)
      const reviews = [
        { name: 'Sarah J.', role: 'Dev', text: 'This library saved me hours of work!', stars: 5 },
        { name: 'Mike T.', role: 'Designer', text: 'Smooth animations and easy to setup.', stars: 5 },
        { name: 'Alex R.', role: 'Manager', text: 'Best marquee solution I found.', stars: 4 },
        { name: 'Emily W.', role: 'CTO', text: 'Performance is top notch. Love it.', stars: 5 },
        { name: 'David K.', role: 'Frontend', text: 'Accessible and lightweight. Perfect.', stars: 5 },
      ];

      new UniversalMarquee('#demo-testimonials', {
        items: reviews,
        renderItem: (item) => {
          const div = document.createElement('div');
          div.className = 'testimonial-card';
          div.innerHTML = `
          <div class="t-header">
            <div class="t-avatar">${item.name.charAt(0)}</div>
            <div class="t-info">
              <h4>${item.name}</h4>
              <span>${item.role}</span>
            </div>
            <div class="t-stars">${'â˜…'.repeat(item.stars)}</div>
          </div>
          <div class="t-body">"${item.text}"</div>
        `;
          return div;
        },
        speed: 20, // Slower for reading
        gap: '2rem',
        pauseOnHover: true,
      });

      // Demo 3: Product/Media Flow (Album Covers)
      // Menggunakan placeholder image yang estetik dari Unsplash Source / Picsum
      const albums = [
        { title: 'Neon Nights', artist: 'Cyberwave', img: 'https://picsum.photos/id/10/400/400' },
        { title: 'Mountain Echo', artist: 'Nature Sounds', img: 'https://picsum.photos/id/28/400/400' },
        { title: 'Urban Flow', artist: 'City Beats', img: 'https://picsum.photos/id/58/400/400' },
        { title: 'Coffee House', artist: 'Acoustic', img: 'https://picsum.photos/id/30/400/400' },
        { title: 'Deep Ocean', artist: 'Ambient', img: 'https://picsum.photos/id/16/400/400' },
        { title: 'Retro Future', artist: 'Synth', img: 'https://picsum.photos/id/56/400/400' },
      ];

      new UniversalMarquee('#demo-products', {
        items: albums,
        renderItem: (item) => {
          const div = document.createElement('div');
          div.className = 'album-card um-img-skeleton'; // Keep skeleton class for lazy load effect
          div.innerHTML = `
          <img src="${item.img}" alt="${item.title}" loading="lazy">
          <div class="album-overlay">
            <span>${item.title}</span>
            <small>${item.artist}</small>
          </div>
        `;
          return div;
        },
        speed: 40,
        gap: '1.5rem',
      });

      // Demo 4: Stock/Crypto Ticker
      const stocks = [
        { sym: 'BTC', val: '$94,230', change: '+2.4%', up: true },
        { sym: 'ETH', val: '$5,120', change: '-0.8%', up: false },
        { sym: 'JS', val: '$1,337', change: '+12.5%', up: true },
        { sym: 'CSS', val: '$420', change: '+5.0%', up: true },
        { sym: 'HTML', val: '$100', change: '+0.1%', up: true },
        { sym: 'REACT', val: '$850', change: '-2.1%', up: false },
      ];

      new UniversalMarquee('#demo-ticker', {
        items: stocks,
        renderItem: (item) => {
          const div = document.createElement('div');
          div.className = 'ticker-item';
          const arrow = item.up ? 'â–²' : 'â–¼';
          const colorClass = item.up ? 'ticker-up' : 'ticker-down';
          div.innerHTML = `
          <span class="ticker-symbol">${item.sym}</span>
          <span class="ticker-val">${item.val}</span>
          <span class="ticker-change ${colorClass}">${arrow} ${item.change}</span>
        `;
          return div;
        },
        separator: '  |  ',
        speed: 50,
        direction: 'left', // Tickers usually go left
      });
    };

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initApp);
    } else {
      initApp();
    }
  </script>
</html>
