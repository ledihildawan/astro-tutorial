/**
 * UniversalMarquee Styles
 * Teknik: CSS Variable Driven Animation & Alpha Compositing.
 */

.um-container {
  display: flex;
  width: 100%;
  overflow: hidden;
  position: relative;

  /* Layout Isolation: Mencegah efek reflow marquee keluar ke elemen parent */
  contain: layout paint;
  content-visibility: auto;

  /* Masking: Menggunakan linear-gradient untuk transisi opacity pada edge */
  mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
  -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);

  touch-action: pan-y;
  user-select: none;
}

.um-track {
  display: flex;
  flex-shrink: 0;
  width: max-content; /* Mendukung ekspansi dimensi konten secara dinamis */
  gap: var(--um-gap, 2rem);
  align-items: center;

  /* Compositor Thread Optimization: Memicu Layer Promotion pada GPU */
  will-change: transform;
  animation: um-linear-translation var(--um-duration, 30s) linear infinite;
  animation-play-state: var(--um-play-state, running);
  animation-direction: var(--um-direction, normal);
  transform: translateZ(0); /* Force 3D rendering context */
}

.um-content-wrapper {
  display: flex;
  align-items: center;
  gap: var(--um-gap, 2rem);
  flex-shrink: 0;
}

@keyframes um-linear-translation {
  from {
    transform: translate3d(0, 0, 0);
  }
  to {
    /* Offset sebesar 50% (buffer pertama) untuk menciptakan efek infinite loop */
    transform: translate3d(calc(-50% - (var(--um-gap) / 2)), 0, 0);
  }
}

/* User Interaction State */
.um-container:hover .um-track {
  animation-play-state: paused;
}

/* UI Elements */
.um-item-separator {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* System-level Accessibility Compliance */
@media (prefers-reduced-motion: reduce) {
  .um-track {
    animation: none !important;
    overflow-x: auto;
    transform: none !important;
    will-change: auto;
  }
  .um-container {
    mask-image: none;
    -webkit-mask-image: none;
  }
}
